(this["webpackJsonpgaja-site"]=this["webpackJsonpgaja-site"]||[]).push([[8],{105:function(e,t,a){"use strict";var n=a(22),r=a(26),c=a(0),s=a(139),i=a(140),o=a(141),l=a(142),d=a(36),b=a(1);t.a=function(e){var t=Object(c.useState)(e.slots||[{name:"Volunt\xe1rio",slots:9999}]),a=Object(r.a)(t,2),u=a[0],j=a[1],p=function(t){e.onChange(t)};return Object(b.jsxs)("div",{children:[u.map((function(e,t){return Object(b.jsxs)(s.a,{style:{border:"1px solid #ccc",padding:10,marginBottom:30},children:[Object(b.jsx)(i.a,{sm:"6",children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(d.e,{for:"title",children:"T\xedtulo da vaga:"}),Object(b.jsx)(l.a,{type:"text",name:"slotName",id:"slotName",value:e.name,onChange:function(e){var a=e.target.value;u[t].name=a,j(Object(n.a)(u)),p()}})]})}),Object(b.jsx)(i.a,{sm:"6",children:Object(b.jsxs)(o.a,{children:[Object(b.jsx)(d.e,{for:"title",children:"Quantidade:"}),Object(b.jsx)(l.a,{type:"number",name:"slotName",id:"slotName",value:e.slots,min:0,disabled:9999===e.slots,onChange:function(e){var a=e.target.value;u[t].slots=a,j(Object(n.a)(u)),p()}}),Object(b.jsxs)("div",{style:{textAlign:"left"},children:[Object(b.jsx)("input",{type:"checkbox",id:"no_limit",name:"no_limit",checked:9999===e.slots,onChange:function(e){var a=e.target.checked;u[t].slots=a?9999:1,j(Object(n.a)(u)),p()}}),Object(b.jsx)("label",{style:{marginLeft:5},children:" Sem limite de vagas"})]})]})}),t>0&&Object(b.jsx)(i.a,{sm:12,onClick:function(){return function(e){u.splice(e,1),j(Object(n.a)(u)),p(u)}(t)},children:Object(b.jsx)("span",{style:{cursor:"pointer",color:"#409bd6"},children:"Remover"})})]},t)})),Object(b.jsx)("br",{}),Object(b.jsx)(d.d,{outline:!0,color:"primary",onClick:function(){var e=[].concat(Object(n.a)(u),[{name:"Volunt\xe1rio",slots:9999}]);j([].concat(Object(n.a)(u),[{name:"Volunt\xe1rio",slots:9999}])),p(e)},children:"Nova vaga"})]})}},112:function(e,t,a){"use strict";var n=a(2),r=a(8),c=a(27),s=a(9),i=a(0),o=a.n(i),l=a(3),d=a.n(l),b=a(5),u=a.n(b),j=a(16),p={tag:j.d,innerRef:d.a.oneOfType([d.a.object,d.a.func,d.a.string]),disabled:d.a.bool,active:d.a.bool,className:d.a.string,cssModule:d.a.object,onClick:d.a.func,href:d.a.any},m=function(e){function t(t){var a;return(a=e.call(this,t)||this).onClick=a.onClick.bind(Object(c.a)(a)),a}Object(s.a)(t,e);var a=t.prototype;return a.onClick=function(e){this.props.disabled?e.preventDefault():("#"===this.props.href&&e.preventDefault(),this.props.onClick&&this.props.onClick(e))},a.render=function(){var e=this.props,t=e.className,a=e.cssModule,c=e.active,s=e.tag,i=e.innerRef,l=Object(r.a)(e,["className","cssModule","active","tag","innerRef"]),d=Object(j.b)(u()(t,"nav-link",{disabled:l.disabled,active:c}),a);return o.a.createElement(s,Object(n.a)({},l,{ref:i,onClick:this.onClick,className:d}))},t}(o.a.Component);m.propTypes=p,m.defaultProps={tag:"a"},t.a=m},118:function(e,t,a){"use strict";var n=a(2),r=a(8),c=a(0),s=a.n(c),i=a(3),o=a.n(i),l=a(5),d=a.n(l),b=a(16),u={tabs:o.a.bool,pills:o.a.bool,vertical:o.a.oneOfType([o.a.bool,o.a.string]),horizontal:o.a.string,justified:o.a.bool,fill:o.a.bool,navbar:o.a.bool,card:o.a.bool,tag:b.d,className:o.a.string,cssModule:o.a.object},j=function(e){var t=e.className,a=e.cssModule,c=e.tabs,i=e.pills,o=e.vertical,l=e.horizontal,u=e.justified,j=e.fill,p=e.navbar,m=e.card,f=e.tag,O=Object(r.a)(e,["className","cssModule","tabs","pills","vertical","horizontal","justified","fill","navbar","card","tag"]),h=Object(b.b)(d()(t,p?"navbar-nav":"nav",!!l&&"justify-content-"+l,function(e){return!1!==e&&(!0===e||"xs"===e?"flex-column":"flex-"+e+"-column")}(o),{"nav-tabs":c,"card-header-tabs":m&&c,"nav-pills":i,"card-header-pills":m&&i,"nav-justified":u,"nav-fill":j}),a);return s.a.createElement(f,Object(n.a)({},O,{className:h}))};j.propTypes=u,j.defaultProps={tag:"ul",vertical:!1},t.a=j},119:function(e,t,a){"use strict";var n=a(2),r=a(8),c=a(0),s=a.n(c),i=a(3),o=a.n(i),l=a(5),d=a.n(l),b=a(16),u={tag:b.d,active:o.a.bool,className:o.a.string,cssModule:o.a.object},j=function(e){var t=e.className,a=e.cssModule,c=e.active,i=e.tag,o=Object(r.a)(e,["className","cssModule","active","tag"]),l=Object(b.b)(d()(t,"nav-item",!!c&&"active"),a);return s.a.createElement(i,Object(n.a)({},o,{className:l}))};j.propTypes=u,j.defaultProps={tag:"li"},t.a=j},120:function(e,t,a){"use strict";var n=a(2),r=a(9),c=a(0),s=a.n(c),i=a(3),o=a.n(i),l=a(5),d=a.n(l),b=a(98),u=a(16),j={tag:u.d,activeTab:o.a.any,className:o.a.string,cssModule:o.a.object},p=function(e){function t(t){var a;return(a=e.call(this,t)||this).state={activeTab:a.props.activeTab},a}return Object(r.a)(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeTab!==e.activeTab?{activeTab:e.activeTab}:null},t.prototype.render=function(){var e=this.props,t=e.className,a=e.cssModule,r=e.tag,c=Object(u.c)(this.props,Object.keys(j)),i=Object(u.b)(d()("tab-content",t),a);return s.a.createElement(b.a.Provider,{value:{activeTabId:this.state.activeTab}},s.a.createElement(r,Object(n.a)({},c,{className:i})))},t}(c.Component);t.a=p,p.propTypes=j,p.defaultProps={tag:"div"}},121:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a(2),r=a(8),c=a(0),s=a.n(c),i=a(3),o=a.n(i),l=a(5),d=a.n(l),b=a(98),u=a(16),j={tag:u.d,className:o.a.string,cssModule:o.a.object,tabId:o.a.any};function p(e){var t=e.className,a=e.cssModule,c=e.tabId,i=e.tag,o=Object(r.a)(e,["className","cssModule","tabId","tag"]),l=function(e){return Object(u.b)(d()("tab-pane",t,{active:c===e}),a)};return s.a.createElement(b.a.Consumer,null,(function(e){var t=e.activeTabId;return s.a.createElement(i,Object(n.a)({},o,{className:l(t)}))}))}p.propTypes=j,p.defaultProps={tag:"div"}},150:function(e,t,a){"use strict";a.r(t);var n=a(22),r=a(18),c=a(13),s=a(90),i=a.n(s),o=a(91),l=a(26),d=a(0),b=a.n(d),u=a(48),j=a(101),p=a.n(j),m=a(5),f=a.n(m),O=a(138),h=a(118),v=a(119),g=a(120),x=a(121),y=a(111),T=a(139),N=a(140),C=a(141),E=a(142),k=a(143),w=a(105),S=a(2),R=a(8),P=a(3),_=a.n(P),I=a(16),M={className:_.a.string,cssModule:_.a.object,size:_.a.string,bordered:_.a.bool,borderless:_.a.bool,striped:_.a.bool,dark:_.a.bool,hover:_.a.bool,responsive:_.a.oneOfType([_.a.bool,_.a.string]),tag:I.d,responsiveTag:I.d,innerRef:_.a.oneOfType([_.a.func,_.a.string,_.a.object])},U=function(e){var t=e.className,a=e.cssModule,n=e.size,r=e.bordered,c=e.borderless,s=e.striped,i=e.dark,o=e.hover,l=e.responsive,d=e.tag,u=e.responsiveTag,j=e.innerRef,p=Object(R.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),m=Object(I.b)(f()(t,"table",!!n&&"table-"+n,!!r&&"table-bordered",!!c&&"table-borderless",!!s&&"table-striped",!!i&&"table-dark",!!o&&"table-hover"),a),O=b.a.createElement(d,Object(S.a)({},p,{ref:j,className:m}));if(l){var h=Object(I.b)(!0===l?"table-responsive":"table-responsive-"+l,a);return b.a.createElement(u,{className:h},O)}return O};U.propTypes=M,U.defaultProps={tag:"table",responsiveTag:"div"};var D=U,L=a(1);var A,z,F,V,J,W=function(e){return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("div",{style:{margin:"0px 10px"},children:Object(L.jsx)("div",{style:{overflowY:"scroll",height:350},children:e.enrollments&&0===e.enrollments.length?Object(L.jsx)("span",{children:"Nenhum volunt\xe1rio at\xe9 o momento."}):Object(L.jsxs)(D,{bordered:!0,children:[Object(L.jsx)("thead",{children:Object(L.jsxs)("tr",{children:[Object(L.jsx)("th",{children:"Nome"}),Object(L.jsx)("th",{children:"Email"}),Object(L.jsx)("th",{children:"Telefone"})]})}),Object(L.jsx)("tbody",{children:e.enrollments.map((function(e){return Object(L.jsxs)("tr",{children:[Object(L.jsxs)("td",{children:[e.firstName," ",e.lastName]}),Object(L.jsx)("td",{children:e.email}),Object(L.jsx)("td",{children:e.phone})]},e.id)}))})]})})})})},q=a(6),B=a(7),H=a(137),G=a(87),K=a(88),Q=a(112),Y=Object(B.a)(H.a)(A||(A=Object(q.a)(["\n  margin-top: 100px;\n  text-align: center;\n  background: #fff;\n  margin-left: auto;\n  margin-right: auto;\n  border: 1px solid #d9d9d9;\n  border-radius: 5px;\n  margin-bottom: 30px;\n\n  @media (min-width: 768px) {\n    padding: 50px;\n    width: 50%;\n  }\n\n  @media (max-width: 768px) {\n    padding-top: 50px;\n    padding-bottom: 50px;\n    margin-left: 10px;\n    margin-right: 10px;\n    margin-top: 150px;\n  }\n"]))),X=Object(B.a)(G.a)(z||(z=Object(q.a)(["\n  float: left;\n  font-weight: bold;\n"]))),Z=Object(B.a)(K.a)(F||(F=Object(q.a)(["\n  width: 300px;\n  margin-left: auto;\n  margin-right: auto;\n"]))),$=(B.a.div(V||(V=Object(q.a)(["\n  position: absolute;\n  top: 80px;\n  left: 20px;\n  cursor: pointer;\n"]))),Object(B.a)(Q.a)(J||(J=Object(q.a)(["\n  cursor: pointer;\n\n  :hover {\n    color: #dd9847 !important;\n  }\n"])))),ee=a(36),te=a(93);t.default=function(e){var t=Object(d.useState)({}),a=Object(l.a)(t,2),s=a[0],b=a[1],j=Object(d.useState)([]),m=Object(l.a)(j,2),S=m[0],R=m[1],P=Object(d.useState)([]),_=Object(l.a)(P,2),I=_[0],M=_[1],U=Object(d.useState)(""),D=Object(l.a)(U,2),A=D[0],z=D[1],F=Object(d.useState)("1"),V=Object(l.a)(F,2),J=V[0],q=V[1],B=Object(d.useState)(!0),H=Object(l.a)(B,2),G=H[0],K=H[1],Q=Object(u.useToasts)().addToast;Object(d.useEffect)((function(){function t(){return(t=Object(o.a)(i.a.mark((function t(){var a,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match&&e.match.params.slug,t.next=3,te.d(a);case 3:n=t.sent,b(n.event),R(n.event.slots),M(n.enrollments),K(!1);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var ae=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,te.g(Object(c.a)(Object(c.a)({},s),{},{slots:S}));case 4:e.sent&&(Q("Evento atualizado com sucesso!",{appearance:"success",autoDismiss:!0}),z("")),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),z(e.t0&&e.t0.err?e.t0.err.message:"Ocorreu um erro, tente novamente.");case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}(),ne=function(e){var t=e.target.name,a=e.target.value;b(Object(c.a)(Object(c.a)({},s),{},Object(r.a)({},t,a)))},re=function(e){J!==e&&q(e)},ce=function(){var e=Object(o.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t&&t.length>0&&b(Object(c.a)(Object(c.a)({},s),{},{image:t[0]}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(L.jsx)(Y,{children:Object(L.jsxs)(O.a,{children:[Object(L.jsxs)(h.a,{tabs:!0,children:[Object(L.jsx)(v.a,{children:Object(L.jsx)($,{className:f()({active:"1"===J}),onClick:function(){re("1")},children:"Editar informa\xe7\xf5es"})}),Object(L.jsx)(v.a,{children:Object(L.jsx)($,{className:f()({active:"2"===J}),onClick:function(){re("2")},children:"Vagas"})}),Object(L.jsx)(v.a,{children:Object(L.jsx)($,{className:f()({active:"3"===J}),onClick:function(){re("3")},children:"Volunt\xe1rios"})})]}),!G&&Object(L.jsxs)(g.a,{activeTab:J,children:[Object(L.jsx)(x.a,{tabId:"3",children:Object(L.jsx)(y.a,{style:{marginTop:40},children:Object(L.jsx)(W,{enrollments:I})})}),Object(L.jsx)(x.a,{tabId:"2",children:Object(L.jsxs)(y.a,{style:{marginTop:40},onSubmit:ae,children:[Object(L.jsx)(w.a,{slots:S,onChange:function(e){return R(Object(n.a)(e))}}),Object(L.jsx)("br",{}),Object(L.jsx)(Z,{color:"primary",type:"submit",children:"Salvar"})]})}),Object(L.jsx)(x.a,{tabId:"1",children:Object(L.jsxs)(y.a,{style:{marginTop:20},onSubmit:ae,children:[Object(L.jsxs)(T.a,{children:[Object(L.jsx)(N.a,{sm:"12",children:Object(L.jsxs)(C.a,{children:[Object(L.jsx)(X,{for:"title",children:"T\xedtulo:"}),Object(L.jsx)(E.a,{type:"text",name:"title",id:"title",value:s.title,onChange:ne,required:!0})]})}),Object(L.jsx)(N.a,{sm:"12",children:Object(L.jsxs)(C.a,{children:[Object(L.jsx)(X,{for:"description",children:"Descri\xe7\xe3o:"}),Object(L.jsx)(E.a,{type:"textarea",name:"description",id:"description",rows:5,value:s.description,onChange:ne,required:!0})]})}),Object(L.jsx)(N.a,{sm:"12",children:Object(L.jsxs)(C.a,{children:[Object(L.jsx)(X,{for:"address",children:"Endere\xe7o:"}),Object(L.jsx)(E.a,{type:"text",name:"address",id:"address",value:s.address,onChange:ne})]})}),Object(L.jsx)(N.a,{sm:"12",children:Object(L.jsxs)(C.a,{children:[Object(L.jsx)(X,{for:"date",children:"Data:"}),Object(L.jsx)(E.a,{type:"date",name:"date",id:"date",value:s.date&&s.date.split("T")[0],onChange:ne})]})}),Object(L.jsxs)(N.a,{sm:"12",children:[Object(L.jsx)(X,{for:"title",children:"Imagem de capa*:"}),s.image&&Object(L.jsx)("div",{style:{textAlign:"right"},onClick:function(){return b(Object(c.a)(Object(c.a)({},s),{},{image:null}))},children:Object(L.jsx)("span",{style:{cursor:"pointer",color:"#007bff"},children:"Remover imagem"})}),Object(L.jsx)("br",{}),s.image?Object(L.jsx)(k.a,{object:!0,src:s.image&&s.image instanceof Blob?URL.createObjectURL(s.image):s.image?s.image:void 0,width:"100%",height:"300",alt:"Imagem de capa",style:{objectFit:"contain",border:"1px solid #ccc"}}):Object(L.jsx)(p.a,{withIcon:!0,buttonText:"Escolha uma imagem",label:"Tamanho m\xe1ximo: 5mb. Formato: jpg|jpeg|png",onChange:ce,imgExtension:[".jpg",".png",".jpeg"],maxFileSize:5242880,singleImage:!0})]})]}),A&&Object(L.jsxs)(ee.f,{children:[A,Object(L.jsx)("br",{})]}),Object(L.jsx)("br",{}),Object(L.jsx)(Z,{outline:!0,color:"primary",type:"button",onClick:function(){return function(){var e=Object(c.a)({},s);if(e.slots=S,e.image&&e.image instanceof Blob){var t=new FileReader;t.readAsDataURL(e.image),t.onloadend=function(){var a=t.result;e.image=a,localStorage.setItem("EVENT_PREVIEW",JSON.stringify(e)),window.open("/evento/preview","_blank").focus()}}else localStorage.setItem("EVENT_PREVIEW",JSON.stringify(e)),window.open("/evento/preview","_blank").focus()}()},children:"Pr\xe9-visualizar"}),Object(L.jsx)("br",{}),Object(L.jsx)("br",{}),Object(L.jsx)(Z,{color:"primary",type:"submit",children:"Salvar"})]})})]})]})})}},92:function(e,t,a){"use strict";a.r(t),a.d(t,"request",(function(){return o}));var n=a(90),r=a.n(n),c=a(91),s=a(47).history,i=parseInt(Object({NODE_ENV:"production",PUBLIC_URL:"/frontend-tcc",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://backend-gaja-tcc.herokuapp.com"}).REACT_APP_TIMEOUT_IN_SECONDS||20);function o(e){return l.apply(this,arguments)}function l(){return(l=Object(c.a)(r.a.mark((function e(t){var a,n,c,o,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.url,n=t.params,c=t.options,o={},c&&c["Content-Type"]||(o["Content-Type"]="application/json"),(l=localStorage.getItem("USER_JWT"))&&(o.Authorization=l),t.headers=new Headers(o),n&&Object.keys(n).forEach((function(e){void 0!==n[e]&&a.searchParams.append(e,n[e])})),t.body&&"application/json"===o["Content-Type"]&&(t.body=JSON.stringify(t.body)),e.abrupt("return",new Promise((function(e,n){var r=setTimeout((function(){n(new Error("Promise timeout"))}),1e3*i);fetch(a,t).then((function(t){clearTimeout(r),401===t.status&&s.push("/entrar"),t.ok?t.json().then((function(t){e(t)})):t.json().then((function(e){n(e)}))}))})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},93:function(e,t,a){"use strict";a.d(t,"f",(function(){return c})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return i})),a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"g",(function(){return d})),a.d(t,"b",(function(){return b}));var n=a(92).request,r="".concat("https://backend-gaja-tcc.herokuapp.com","/event");function c(){var e=new URL(r);return n({url:e,method:"GET"})}function s(e){var t=new URL(r+"/".concat(e));return n({url:t,method:"GET"})}function i(e,t){var a=new URL(r+"/".concat(e,"/").concat(t));return n({url:a,method:"GET"})}function o(e){var t=e.page,a=e.limit,c=void 0===a?10:a,s=new URL(r+"/list");return n({url:s,body:{page:t,limit:c},method:"POST"})}function l(e){var t=new URL(r),a=new FormData;return a.append("event",JSON.stringify(e)),a.append("file",e.image),n({url:t,body:a,method:"POST",options:{"Content-Type":"multipart/form-data"}})}function d(e){var t=new URL(r),a=new FormData;return a.append("event",JSON.stringify(e)),a.append("file",e.image),n({url:t,body:a,method:"PUT",options:{"Content-Type":"multipart/form-data"}})}function b(e){var t=new URL(r+"/enrollment");return n({url:t,body:e,method:"POST"})}},98:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(0),r=a.n(n).a.createContext({})}}]);
//# sourceMappingURL=8.fde0aa7d.chunk.js.map