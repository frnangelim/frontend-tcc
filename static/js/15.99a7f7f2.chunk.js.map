{"version":3,"sources":["components/CustomCarousel/index.js","pages/UserEvents/styles.js","pages/UserEvents/components/OwnedEvents/index.js","pages/UserEvents/components/EventsEnrolled/index.js","pages/UserEvents/index.js","services/RequestService.js","services/EventService.js"],"names":["responsive","superLargeDesktop","breakpoint","max","min","items","desktop","tablet","partialVisibilityGutter","mobile","CustomCarousel","props","ssr","draggable","showDots","centerMode","renderDotsOutside","infinite","removeArrowOnDeviceType","containerClass","swipeable","transitionDuration","partialVisbile","map","item","component","Container","styled","div","CarouselCard","CarouselTitleContainer","span","CarouselTitle","EventTitleContainer","EventTitle","EventImage","CustomImage","BottomContainer","SeeDetails","a","carouselComponent","src","image","alt","title","onClick","window","location","href","slug","OwnedEvents","style","textAlign","events","length","maxWidth","margin","marginTop","EventsEnrolled","UserEvents","useState","ownedEvents","setOwnedEvents","enrolledEvents","setEnrolledEvents","loading","setLoading","history","useHistory","useEffect","EventService","response","userEnrollments","fetchData","color","push","require","TIMEOUT_IN_SECONDS","parseInt","process","REACT_APP_TIMEOUT_IN_SECONDS","request","data","url","params","options","headers","userToken","localStorage","getItem","Headers","Object","keys","forEach","key","undefined","searchParams","append","body","JSON","stringify","Promise","resolve","reject","timeoutId","setTimeout","Error","fetch","then","clearTimeout","status","ok","json","result","BASE_URL","getUserEvents","URL","method","getEvent","getSlot","eventSlug","slotSlug","getAll","page","limit","create","event","FormData","update","createEnrollment"],"mappings":"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","file":"static/js/15.99a7f7f2.chunk.js","sourcesContent":["import React from \"react\";\nimport Carousel from \"react-multi-carousel\";\nimport \"react-multi-carousel/lib/styles.css\";\n\nconst responsive = {\n  superLargeDesktop: {\n    // the naming can be any, depends on you.\n    breakpoint: { max: 4000, min: 3000 },\n    items: 5,\n  },\n  desktop: {\n    breakpoint: { max: 3000, min: 1024 },\n    items: 3,\n  },\n  tablet: {\n    breakpoint: { max: 1024, min: 464 },\n    items: 2,\n    partialVisibilityGutter: 30,\n  },\n  mobile: {\n    breakpoint: { max: 464, min: 0 },\n    items: 1,\n    partialVisibilityGutter: 30,\n  },\n};\n\nfunction CustomCarousel(props) {\n  return (\n    <Carousel\n      ssr={true}\n      responsive={responsive}\n      draggable={true}\n      showDots={false}\n      centerMode={false}\n      renderDotsOutside={false}\n      infinite={true}\n      removeArrowOnDeviceType={[\"tablet\", \"mobile\"]}\n      containerClass={\"carousel-container\"}\n      swipeable={true}\n      transitionDuration={500}\n      partialVisbile={true}\n    >\n      {props.items.map((item) => props.component(item))}\n    </Carousel>\n  );\n}\n\nexport default CustomCarousel;\n","import styled from \"styled-components\";\nimport CustomImage from \"../../components/CustomImage\";\n\nexport const Container = styled.div`\n  margin-top: 100px;\n  margin-left: 50px;\n  margin-right: 50px;\n  margin-bottom: 50px;\n`;\n\nexport const CarouselCard = styled.div`\n  background-color: #fff;\n  border: 1px solid #000;\n  border-radius: 5px;\n  height: 280px;\n  text-align: center;\n  margin-left: 20px;\n`;\n\nexport const CarouselTitleContainer = styled.span`\n  text-align: center;\n`;\n\nexport const CarouselTitle = styled.span`\n  color: #409bd6;\n  font-size: 18px;\n  font-weight: bold;\n`;\n\nexport const EventTitleContainer = styled.div`\n  background: #3b3b3b;\n  margin-top: -7px;\n  padding-top: 12px;\n  padding-bottom: 10px;\n  height: 50px;\n`;\n\nexport const EventTitle = styled.span`\n  color: white;\n  text-align: center;\n`;\n\nexport const EventImage = styled(CustomImage)`\n  height: 200px;\n  width: 100%;\n  object-fit: cover;\n  border-radius: 5px;\n`;\nexport const BottomContainer = styled.div`\n  height: 30px;\n  justify-content: center;\n  line-height: 30px;\n`;\n\nexport const SeeDetails = styled.a`\n  color: #409bd6;\n  font-size: 16px;\n  cursor: pointer;\n\n  :hover {\n    color: #dd9847 !important;\n  }\n`;\n","import React from \"react\";\nimport CustomCarousel from \"../../../../components/CustomCarousel\";\n\nimport {\n  CarouselCard,\n  CarouselTitle,\n  EventTitleContainer,\n  EventTitle,\n  SeeDetails,\n  BottomContainer,\n  EventImage,\n  CarouselTitleContainer,\n} from \"./../../styles\";\n\nfunction carouselComponent(item) {\n  return (\n    <CarouselCard key={item.slug}>\n      <EventImage src={item.image} alt={\"Foto do evento\"} />\n      <EventTitleContainer>\n        <EventTitle>{item.title}</EventTitle>\n      </EventTitleContainer>\n      <BottomContainer\n        onClick={() => {\n          window.location.href = `/evento/${item.slug}/detalhes`;\n        }}\n      >\n        <SeeDetails>Ver detalhes</SeeDetails>\n      </BottomContainer>\n    </CarouselCard>\n  );\n}\n\nfunction OwnedEvents(props) {\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <CarouselTitleContainer>\n        <CarouselTitle>\n          Criados por mim ({props.events.length || 0})\n        </CarouselTitle>\n      </CarouselTitleContainer>\n      <div style={{ maxWidth: 910, margin: \"auto\", marginTop: 20 }}>\n        {props.events.length > 0 ? (\n          <CustomCarousel items={props.events} component={carouselComponent} />\n        ) : (\n          <span>Você ainda não criou nenhum evento.</span>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default OwnedEvents;\n","import React from \"react\";\nimport CustomCarousel from \"../../../../components/CustomCarousel\";\n\nimport {\n  CarouselCard,\n  CarouselTitle,\n  EventTitleContainer,\n  EventTitle,\n  SeeDetails,\n  BottomContainer,\n  EventImage,\n  CarouselTitleContainer,\n} from \"./../../styles\";\n\nfunction carouselComponent(item) {\n  return (\n    <>\n      <CarouselCard>\n        <EventImage src={item.image} alt={\"Foto do evento\"} />\n        <EventTitleContainer>\n          <EventTitle>{item.title}</EventTitle>\n        </EventTitleContainer>\n        <BottomContainer>\n          <SeeDetails>Ver detalhes</SeeDetails>\n        </BottomContainer>\n      </CarouselCard>\n    </>\n  );\n}\n\nfunction EventsEnrolled(props) {\n  return (\n    <div style={{ textAlign: \"center\" }}>\n      <CarouselTitleContainer>\n        <CarouselTitle>\n          Meus engajamentos ({props.events.length || 0})\n        </CarouselTitle>\n      </CarouselTitleContainer>\n      <div style={{ maxWidth: 910, margin: \"auto\", marginTop: 20 }}>\n        {props.events.length > 0 ? (\n          <CustomCarousel items={props.events} component={carouselComponent} />\n        ) : (\n          <span>Você ainda não participou de nenhum evento.</span>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default EventsEnrolled;\n","import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport OwnedEvents from \"./components/OwnedEvents\";\nimport EventsEnrolled from \"./components/EventsEnrolled\";\nimport \"react-multi-carousel/lib/styles.css\";\nimport { Container } from \"./styles\";\nimport {\n  LoadingContainer,\n  Loading,\n  FloatButton,\n} from \"../../styles/General.style\";\n\nimport * as EventService from \"../../services/EventService\";\n\nfunction UserEvents() {\n  const [ownedEvents, setOwnedEvents] = useState([]);\n  const [enrolledEvents, setEnrolledEvents] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchData() {\n      let response = await EventService.getUserEvents();\n      if (response) {\n        setOwnedEvents(response.ownedEvents);\n        setEnrolledEvents(response.userEnrollments);\n        setLoading(false);\n      }\n    }\n    fetchData();\n  }, []);\n\n  return (\n    <>\n      {loading ? (\n        <LoadingContainer>\n          <Loading color={\"#DC3736\"} />\n        </LoadingContainer>\n      ) : (\n        <Container>\n          <OwnedEvents events={ownedEvents} />\n          <br />\n          <br />\n          <EventsEnrolled events={enrolledEvents} />\n\n          <FloatButton onClick={() => history.push(\"/evento/novo\")}>\n            +\n          </FloatButton>\n        </Container>\n      )}\n    </>\n  );\n}\n\nexport default UserEvents;\n","const { history } = require(\"../history\");\n\nconst TIMEOUT_IN_SECONDS = parseInt(\n  process.env.REACT_APP_TIMEOUT_IN_SECONDS || 20\n);\n\n/**\n * Executa uma requisição para a url informada.\n *\n * @param {Object} data Opções da requisição\n */\nexport async function request(data) {\n  let { url, params, options } = data;\n\n  let headers = {};\n\n  if (!options || !options[\"Content-Type\"]) {\n    headers[\"Content-Type\"] = \"application/json\";\n  }\n\n  let userToken = localStorage.getItem(\"USER_JWT\");\n\n  if (userToken) {\n    headers[\"Authorization\"] = userToken;\n  }\n\n  data.headers = new Headers(headers);\n\n  if (params) {\n    Object.keys(params).forEach((key) => {\n      if (params[key] !== undefined) {\n        url.searchParams.append(key, params[key]);\n      }\n    });\n  }\n\n  if (data.body && headers[\"Content-Type\"] === \"application/json\") {\n    data.body = JSON.stringify(data.body);\n  }\n\n  return new Promise((resolve, reject) => {\n    const timeoutId = setTimeout(() => {\n      reject(new Error(\"Promise timeout\"));\n    }, TIMEOUT_IN_SECONDS * 1000);\n\n    fetch(url, data).then((response) => {\n      clearTimeout(timeoutId);\n\n      if (response.status === 401) history.push(`/entrar`); // TODO NOT AUTHORIZED?\n\n      if (response.ok) {\n        response.json().then((result) => {\n          resolve(result);\n        });\n      } else {\n        response.json().then((result) => {\n          reject(result);\n        });\n      }\n    });\n  });\n}\n","// Serviços\nconst { request } = require(\"./RequestService\");\n\n// Constantes\nconst BASE_URL = `${process.env.REACT_APP_API_URL}/event`;\n\nexport function getUserEvents() {\n  const url = new URL(BASE_URL);\n\n  let method = \"GET\";\n\n  return request({\n    url,\n    method,\n  });\n}\n\nexport function getEvent(slug) {\n  const url = new URL(BASE_URL + `/${slug}`);\n\n  let method = \"GET\";\n\n  return request({\n    url,\n    method,\n  });\n}\n\nexport function getSlot(eventSlug, slotSlug) {\n  const url = new URL(BASE_URL + `/${eventSlug}/${slotSlug}`);\n\n  let method = \"GET\";\n\n  return request({\n    url,\n    method,\n  });\n}\n\nexport function getAll({ page, limit = 10 }) {\n  const url = new URL(BASE_URL + `/list`);\n\n  let method = \"POST\";\n\n  return request({\n    url,\n    body: { page, limit },\n    method,\n  });\n}\n\nexport function create(event) {\n  const options = {\n    \"Content-Type\": \"multipart/form-data\",\n  };\n\n  const url = new URL(BASE_URL);\n\n  let method = \"POST\";\n\n  let data = new FormData();\n  data.append(\"event\", JSON.stringify(event));\n  data.append(\"file\", event.image);\n\n  return request({\n    url,\n    body: data,\n    method,\n    options,\n  });\n}\n\nexport function update(event) {\n  const options = {\n    \"Content-Type\": \"multipart/form-data\",\n  };\n\n  const url = new URL(BASE_URL);\n\n  let method = \"PUT\";\n\n  let data = new FormData();\n  data.append(\"event\", JSON.stringify(event));\n  data.append(\"file\", event.image);\n\n  return request({\n    url,\n    body: data,\n    method,\n    options,\n  });\n}\n\nexport function createEnrollment(data) {\n  const url = new URL(BASE_URL + \"/enrollment\");\n\n  let method = \"POST\";\n\n  return request({\n    url,\n    body: data,\n    method,\n  });\n}\n"],"sourceRoot":""}